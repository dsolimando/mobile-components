!function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){o(1),o(2),o(3),o(4),t.exports=o(5)},function(t,e,o){"use strict";o.r(e),e.default={render(){return this.$el},destroy(){this.render().remove(),this.navigator&&this.navigator.onhashchange&&removeEventListener("hashchange",this.navigator.onhashchange)}}},function(t,e,o){"use strict";o.r(e),o.d(e,"default",function(){return r});class r{push(t){const e=t.props||{},o=new t.viewController(e);o.navigator=this;let r=o.render();document.body.appendChild(r),"#document-fragment"==r.nodeName&&(r=document.body.lastElementChild),setTimeout(t=>{r.render(),setTimeout(t=>{o.onrender&&o.onrender()},300)},64)}}},function(t,e,o){"use strict";o.r(e),e.default={handleUrlRouting(t){this.routingData=t,this.onhashchange=e=>{this.$container||removeEventListener("hashchange",this),Object.getOwnPropertyNames(t).forEach(e=>{this.handleRouting&&this.handleRouting(e,t[e])},this)},addEventListener("hashchange",this.onhashchange)},handleRouting(t,e){if(t.constructor===RegExp){const e=t.exec(location.hash.slice(1)),[o,...r]=e;e&&this.push({props:{urlData:r}})}else{if(t.constructor!==String)throw Error("routePattern field must be of type RegRxp or String");{const r=/(:\w+)/g,n=t.match(r)||[];let i=[];n&&(i=n.map(t=>t.slice(1)));const s=new RegExp(t.replace(r,"(\\w+)")),a=location.hash.slice(1).match(s);if(a){const[t,...r]=a;let s={};for(var o=0;o<n.length;o++)s[i[o]]=r[o];this.push({viewController:e,props:{urlData:s}})}}}}}},function(t,e,o){"use strict";o.r(e),o.d(e,"StackState",function(){return r}),o.d(e,"StackNavigator",function(){return i});class r{get options(){return this.options}set options(t){this.options=t}get viewController(){return this.viewController}set viewController(t){this.viewController=t}}function n(t){return console.log(!(t.options&&null!=t.options.navigationBar&&0==t.options.navigationBar)),!(t.options&&null!=t.options.navigationBar&&0==t.options.navigationBar)}class i{constructor(t,e){this.stack=[e],this.passiveController=null,this.transition=t,this.renderRootView(e)}push(t){const e=this.stack[this.stack.length-2];this.stack.push(t),e&&this.passiveController.render().remove(),this.showCurrentViewAndHidePrevious(t)}pop(){const t=this.stack[this.stack.length-3];this.stack.pop(),this.showPreviousViewAndDeleteCurrent(t)}renderRootView(t){this.activeController=new t.viewController(t.props),this.activeController.navigator=this;const e=n(t);e&&this.insertNavigationBarForPush();const o=this.activeController.render();"cover-vertical"==this.transition?o.style.transform="translateY(0)":"cover-horizontal"==this.transition&&(o.style.transform="translateX(0)"),o.style.opacity=1,o.style.transition="transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",document.body.appendChild(o),setTimeout(t=>{if(e){const t=o.querySelector("moko-navigation-bar");t.leftSlotAssignedNode.hide(),t.shadowRoot.querySelector(".center-zone > span").style.transition="transform 0.2s  cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)",o.style.paddingTop=getComputedStyle(t).height}},100)}insertNavigationBarForPush(){const t=this.stack[this.stack.length-2],e=this.stack[this.stack.length-1].options.title||`Title${this.stack.length}`;let o="";t&&(o=t.options.title||"Back");this.activeController.render().insertAdjacentHTML("afterbegin",`<moko-navigation-bar anim-back-title="true" title="${e}" back-title="${o}"><moko-back-button/></moko-navigation-bar>`);this.activeController.render().querySelector("moko-navigation-bar").navigator=this}insertNavigationBarForPop(){this.stack[this.stack.length-1];const t=this.stack[this.stack.length-2],e=this.stack[this.stack.length-3],o=t.options.title||`Title${this.stack.length}`;let r="";e&&(r=e.options.title||"Back");this.passiveController.render().insertAdjacentHTML("afterbegin",`<moko-navigation-bar title="${o}" back-title="${r}"><moko-back-button></moko-back-button></moko-navigation-bar>`);this.activeController.render().querySelector("moko-navigation-bar").navigator=this}showCurrentViewAndHidePrevious(t){const e=t.viewController;this.passiveController=this.activeController,this.activeController=new e(t.props),this.activeController.navigator=this;const o=n(t);o&&this.insertNavigationBarForPush();const r=this.passiveController.render(),i=this.activeController.render();let s,a,l,c,h;if(document.body.appendChild(i),o){const t=r.querySelector("moko-navigation-bar");i.style.paddingTop=getComputedStyle(t).height,s=i.querySelector("moko-navigation-bar"),a=s.shadowRoot.querySelector(".center-zone > span"),(l=s.shadowRoot.querySelector(".back-zone > span")).parentElement.onclick=t=>{this.pop()},c=t.shadowRoot.querySelector(".center-zone > span"),h=s.leftSlotAssignedNode}"cover-vertical"==this.transition?(i.style.transform="translateY(10%)",i.style.opacity=.5):(i.style.transform="translateX(100%)",o&&(a.style.opacity=0,l.style.opacity=.3,c.style.opacity=0,h.style.opacity=0)),setTimeout(t=>{i.style.transition="transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",o&&(l.style.transition="transform 0.2s 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.2s 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",a.style.transition="transform 0.2s  cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",h.style.transition="opacity 0.4s 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",h.style.opacity=1);const e=r.shadowRoot.querySelector(".shadow-pane");e.style.display="",setTimeout(t=>{"cover-vertical"==this.transition?(i.style.transform="translateY(0)",i.style.opacity=1,setTimeout(t=>{r.style.display="none"},500)):"cover-horizontal"==this.transition&&(r.style.transform="translateX(-30%)",e.style.opacity=.4,i.style.transform="translateX(0)",o&&(a.style.opacity=1,l.style.transform="translateX(0%)",l.style.opacity=1),setTimeout(t=>{r.style.display="none"},500))},100)},16)}showPreviousViewAndDeleteCurrent(t){const e=null!=t?t.viewController:null,o=this.passiveController.render(),r=this.activeController.render(),i=o.shadowRoot.querySelector(".shadow-pane");let s,a,l,c,h,u,p;o.style.display="";const d=t&&n(t);d&&(u=o.querySelector("moko-navigation-bar"),h=(p=r.querySelector("moko-navigation-bar")).shadowRoot.querySelector(".center-zone > span"),c=p.shadowRoot.querySelector(".back-zone > span"),l=u.shadowRoot.querySelector(".center-zone > span"),a=u.shadowRoot.querySelector(".back-zone > span"),s=u.leftSlotAssignedNode,"cover-vertical"==!this.transition&&(l.style.opacity=0,a.style.transform="translateX(-50%)",c.style.opacity=.3,s.style.opacity=0)),setTimeout(n=>{if("cover-vertical"==this.transition?(o.style.display="block",r.style.transform="translateY(10%)",r.style.opacity=0):(r.style.transform="translateX(100%)",o.style.transform="translateX(0%)",i.style.opacity=0,d&&(c.style.opacity=0,l.style.opacity=1,a.style.transform="translateX(0%)",s.style.opacity=1),setTimeout(t=>{i.style.display="none"},400)),d){this.passiveController.render().querySelector("moko-navigation-bar").leftSlotAssignedNode.hide()}setTimeout(o=>{r.remove(),this.activeController=this.passiveController,e&&(this.passiveController=new e(t.props),this.passiveController.router=this,d&&(this.insertNavigationBarForPop(),this.passiveController.render().style.paddingTop=getComputedStyle(u).height),document.body.insertBefore(this.passiveController.render(),this.activeController.render()),"cover-vertical"==this.transition?this.passiveController.render().style.transform="":(this.passiveController.render().style.transform="translateX(-30%)",this.passiveController.render().style.transition="transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)"))},500)},100)}}},function(t,e,o){"use strict";o.r(e),o.d(e,"ZoneNavigator",function(){return r});class r extends HTMLElement{constructor(t){super(),t&&(this.$container=document.querySelector(t))}connectedCallback(){if(this.getAttribute("container-selector")&&(this.$container=document.querySelector(this.getAttribute("container-selector"))),!this.$container)throw new Error("no container id defined for this navigator")}push(t){t.props=t.props||{};const e=new t.viewController(t.props);e.navigator=this,this.$container.innerHTML="",this.$container.appendChild(e.render())}handleUrlRouting(t){Object.getOwnPropertyNames(t).forEach(e=>{this.handleRouting&&this.handleRouting(e,t[e])},this)}}customElements.define("moko-zone-navigator",r)}]);