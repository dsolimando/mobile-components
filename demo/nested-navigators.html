<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      demo-stack-navigator {
        height: 100%;
        width: 100%;
        display: block;
      }

      demo-el1 {
        background: red;
        height: 100%;
        width: 100%;
        padding: 20px;
      }

      demo-el2 {
        background: green;
        height: 100%;
        width: 100%;
      }

      demo-el3 {
        background: yellow;
        height: 100%;
        width: 100%;
      }
    </style>
  </head>
  <body
    style="margin:0; width: 100vw; height: 100vh; font-family: '-apple-system','HelveticaNeue';"
  >
    <moko-tab-navigator>
      <moko-tab-route
        icon="trending-up"
        title="Home"
        path="switch1"
        component="demo-stack-navigator"
      >
      </moko-tab-route>
      <moko-tab-route
        icon="package"
        title="simple"
        path="switch2"
        component="demo-simpleview"
      >
      </moko-tab-route>
      <moko-tab-route
        icon="trending-down"
        title="Home2"
        path="switch3"
        component="demo-stack-navigator"
      ></moko-tab-route>
    </moko-tab-navigator>
  </body>

  <template id="stack-template">
    <moko-stack-navigator>
      <moko-route path="path1" component="demo-el1"></moko-route>
      <moko-route path="path2" component="demo-el2"></moko-route>
      <moko-route path="path3" component="demo-el3"></moko-route>
      <div>
        <moko-link to="path2">next1</moko-link><br />
        <moko-link to="path3">next2</moko-link>
      </div>
    </moko-stack-navigator>
  </template>

  <script type="module">
    import { customElement } from '../components/common/builder.js'
    import '../components/navigators/tab-navigator.js'
    import '../components/navigators/stack-navigator.js'
    import '../dist/icon.min.js'

    const $template = document.querySelector('#stack-template')

    customElements.define(
      'demo-simpleview',
      customElement(
        () =>
          `<div style="width: 100%;height: 100%;background: goldenrod"></div>`
      )
    )

    customElements.define(
      'demo-stack-navigator',
      customElement(_ => $template.content.cloneNode(true))
    )

    customElements.define(
      'demo-el1',
      customElement(
        _ =>
          `<moko-link to="path2">next1</moko-link><br>
       <moko-link to="path3">next2</moko-link>`
      )
    )

    customElements.define(
      'demo-el2',
      customElement(_ => `<button onclick="history.back()">Back</button>`)
    )

    customElements.define(
      'demo-el3',
      customElement(_ => `<button onclick="history.back()">Back</button>`)
    )
  </script>
</html>
